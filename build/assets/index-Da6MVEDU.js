import{j as e,r as c,i as P,V as v}from"./index-B5IrYwSf.js";import{a as m,C as x,I as h,u as y,F as M}from"./index.esm-CCO8k5GL.js";import{B as D}from"./BottomStickyBar-hc4hDOX7.js";import{C as f}from"./Card-BwF7YU63.js";import{N as j}from"./NumericInput-B-TYsbtv.js";import{D as S}from"./index-BGBFoPiP.js";import{T as C}from"./useControllableState-DqCAkSU0.js";import{u as w,c as k,f as N}from"./index-DPUiuvHR.js";import{t as B,z as a}from"./index-CzVxQRl_.js";import"./CloseButton-Cfj2d_0a.js";import"./useMergeRef-CbC_Qfe6.js";import"./floating-ui.dom-4meoaf82.js";import"./useUniqueId-B4COUAd7.js";import"./uniqueId-CiKHi5Kj.js";import"./toString-DGAcNTrc.js";const G=({control:n,errors:r})=>{var t,i;return e.jsxs(f,{children:[e.jsx("h4",{className:"mb-6",children:"Basic Information"}),e.jsxs("div",{children:[e.jsx(m,{label:"Product name",invalid:!!r.name,errorMessage:(t=r.name)==null?void 0:t.message,children:e.jsx(x,{name:"name",control:n,render:({field:s})=>e.jsx(h,{type:"text",autoComplete:"off",placeholder:"Product Name",...s})})}),e.jsx(m,{label:"Product code",invalid:!!r.productCode,errorMessage:(i=r.productCode)==null?void 0:i.message,children:e.jsx(x,{name:"productCode",control:n,render:({field:s})=>e.jsx(h,{type:"text",autoComplete:"off",placeholder:"Product Code",...s})})})]})]})},R=({control:n,errors:r})=>{var l,u,g;const[t,i]=c.useState(new Date),[s,p]=c.useState([new Date(2022,11,1),new Date(2022,11,5)]),d=o=>{console.log("Selected range date",o),p(o)};return e.jsxs(f,{children:[e.jsx("h4",{className:"mb-6",children:"New Pricing"}),e.jsxs("div",{children:[e.jsx(m,{label:"Price",invalid:!!r.price,errorMessage:(l=r.price)==null?void 0:l.message,children:e.jsx(x,{name:"price",control:n,render:({field:o})=>e.jsx(j,{thousandSeparator:!0,type:"text",inputPrefix:"$",autoComplete:"off",placeholder:"0.00",value:o.value,onChange:o.onChange})})}),e.jsx(m,{label:"Cost price",invalid:!!r.costPerItem,errorMessage:(u=r.costPerItem)==null?void 0:u.message,children:e.jsx(x,{name:"costPerItem",control:n,render:({field:o})=>e.jsx(j,{thousandSeparator:!0,type:"text",inputPrefix:"$",autoComplete:"off",placeholder:"0.00",value:o.value,onChange:o.onChange})})})]}),e.jsx("div",{className:"md:flex gap-4",children:e.jsx(m,{label:"Price Effective Date",invalid:!!r.bulkDiscountPrice,errorMessage:(g=r.bulkDiscountPrice)==null?void 0:g.message,className:"w-full",children:e.jsx(S.DatePickerRange,{placeholder:"Select dates range",value:s,onChange:d})})})]})},q=[{id:1,firstName:"Alastair",lastName:"Dilkes",email:"adilkes0@jigsy.com",gender:"Female"},{id:2,firstName:"Matthaeus",lastName:"Graber",email:"mgraber1@adobe.com",gender:"Genderqueer"},{id:3,firstName:"Gayel",lastName:"Croxley",email:"gcroxley2@businessinsider.com",gender:"Male"},{id:4,firstName:"Gracia",lastName:"Domegan",email:"gdomegan3@reference.com",gender:"Genderfluid"},{id:5,firstName:"Galvan",lastName:"Beringer",email:"gberinger4@yellowpages.com",gender:"Agender"},{id:6,firstName:"Maud",lastName:"Aicheson",email:"maicheson5@ycombinator.com",gender:"Male"},{id:7,firstName:"Gwenette",lastName:"Dailey",email:"gdailey6@state.tx.us",gender:"Genderfluid"},{id:8,firstName:"Marius",lastName:"Leman",email:"mleman7@cnn.com",gender:"Genderfluid"},{id:9,firstName:"Natka",lastName:"Varcoe",email:"nvarcoe8@hhs.gov",gender:"Male"},{id:10,firstName:"Kellie",lastName:"Ackerley",email:"kackerley9@posterous.com",gender:"Genderfluid"}],{Tr:b,Th:I,Td:T,THead:E,TBody:A}=C,F=()=>{const[n]=c.useState(()=>q),r=c.useMemo(()=>[{header:"Price",columns:[]},{header:"Effective Date",columns:[]}],[]),t=w({data:n,columns:r,getCoreRowModel:k()});return e.jsxs(f,{children:[e.jsx("h4",{className:"mb-6",children:"Basic Information"}),e.jsxs(C,{children:[e.jsx(E,{children:t.getHeaderGroups().map(i=>e.jsx(b,{children:i.headers.map(s=>e.jsx(I,{colSpan:s.colSpan,children:N(s.column.columnDef.header,s.getContext())},s.id))},i.id))}),e.jsx(A,{children:t.getRowModel().rows.map(i=>e.jsx(b,{children:i.getVisibleCells().map(s=>e.jsx(T,{children:N(s.column.columnDef.cell,s.getContext())},s.id))},i.id))})]})]})},V=a.object({name:a.string().min(1,{message:"Product name required!"}),productCode:a.string().min(1,{message:"Produc code required!"}),description:a.string().min(1,{message:"Produc description required!"}),price:a.union([a.string(),a.number()],{errorMap:()=>({message:"Price required!"})}),taxRate:a.union([a.string(),a.number()],{errorMap:()=>({message:"Tax rate required!"})}),costPerItem:a.union([a.string(),a.number()],{errorMap:()=>({message:"Cost required!"})}),bulkDiscountPrice:a.union([a.string(),a.number()],{errorMap:()=>({message:"Bulk discount price required!"})}),imgList:a.array(a.object({id:a.string(),name:a.string(),img:a.string()})).min(1,{message:"At least 1 image required!"}),category:a.string().min(1,{message:"Product category required!"})}),ae=n=>{const{onFormSubmit:r,defaultValues:t={imgList:[]},children:i}=n,{handleSubmit:s,reset:p,formState:{errors:d},control:l}=y({defaultValues:{...t},resolver:B(V)});c.useEffect(()=>{P(t)||p(t)},[JSON.stringify(t)]);const u=g=>{r==null||r(g)};return e.jsxs(M,{className:"flex w-full h-full",containerClassName:"flex flex-col w-full justify-between",onSubmit:s(u),children:[e.jsx(v,{children:e.jsxs("div",{className:"flex flex-col xl:flex-row gap-4",children:[e.jsxs("div",{className:"gap-4 flex flex-col flex-auto",children:[e.jsx(G,{control:l,errors:d}),e.jsx(R,{control:l,errors:d})]}),e.jsx("div",{className:"lg:min-w-[440px] 2xl:w-[500px] gap-4 flex flex-col",children:e.jsx(F,{})})]})}),e.jsx(D,{children:i})]})};export{ae as default};
