import{r as y,N as I,j as s,f as P,u as v}from"./index-B5IrYwSf.js";import{L as U}from"./Logo-BCwB-jeM.js";import{u as F,A as B}from"./useTimeOutMessage-CEvSZJX8.js";import{u as C,F as q,a as f,C as h,I as A,B as M}from"./index.esm-CCO8k5GL.js";import{P as k}from"./PasswordInput-D1zm59m4.js";import{t as E,z as d}from"./index-CzVxQRl_.js";import"./CloseButton-Cfj2d_0a.js";import"./StatusIcon-BYLHsQ-F.js";const L=d.object({userName:d.string({required_error:"Please enter your User Name"}).min(1,{message:"Please enter your User Name"}),password:d.string({required_error:"Please enter your password"}).min(1,{message:"Please enter your password"})}),T=u=>{var p,g,x;const[i,o]=y.useState(!1),{disableSubmit:t=!1,className:l,setMessage:e,passwordHint:n}=u,{handleSubmit:j,formState:{errors:r},control:c}=C({defaultValues:{userName:"",password:""},resolver:E(L)}),{signIn:b}=I(),w=async a=>{const{userName:N,password:S}=a;if(!t){o(!0);const m=await b({userName:N,password:S});(m==null?void 0:m.status)==="failed"&&(e==null||e(m.message))}o(!1)};return s.jsx("div",{className:l,children:s.jsxs(q,{onSubmit:j(w),children:[s.jsx(f,{label:"Username",invalid:!!r.userName,errorMessage:(p=r.userName)==null?void 0:p.message,children:s.jsx(h,{name:"userName",control:c,render:({field:a})=>s.jsx(A,{type:"text",placeholder:"Username",autoComplete:"off",...a})})}),s.jsx(f,{label:"Password",invalid:!!r.password,errorMessage:(g=r.password)==null?void 0:g.message,className:P(n?"mb-0":"",(x=r.password)!=null&&x.message?"mb-8":""),children:s.jsx(h,{name:"password",control:c,rules:{required:!0},render:({field:a})=>s.jsx(k,{type:"password",placeholder:"Password",autoComplete:"off",...a})})}),n,s.jsx(M,{block:!0,loading:i,variant:"solid",type:"submit",children:i?"Signing in...":"Sign In"})]})})},W=({signUpUrl:u="/sign-up",forgetPasswordUrl:i="/forgot-password",disableSubmit:o})=>{const[t,l]=F(),e=v(n=>n.mode);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-8",children:s.jsx(U,{type:"streamline",mode:e,imgClass:"mx-auto",logoWidth:200})}),s.jsxs("div",{className:"mb-10",children:[s.jsx("h2",{className:"mb-2",children:"Welcome!"}),s.jsx("p",{className:"font-semibold heading-text",children:"Please enter your credentials to sign in!"})]}),t&&s.jsx(B,{showIcon:!0,className:"mb-4",type:"danger",children:s.jsx("span",{className:"break-all",children:t})}),s.jsx(T,{disableSubmit:o,setMessage:l})]})},J=()=>s.jsx(W,{});export{W as SignInBase,J as default};
