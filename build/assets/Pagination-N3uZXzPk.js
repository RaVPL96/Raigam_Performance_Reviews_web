import{r as f,j as a,z as h}from"./index-B5IrYwSf.js";import{t as A,u as b,v as I,w as E,x as y}from"./CloseButton-Cfj2d_0a.js";import{u as H}from"./useControllableState-DqCAkSU0.js";const N=7,T=({className:c,onArrow:t})=>{const[e,o]=f.useState(!1);return a.jsx("li",{className:c,role:"presentation",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},onClick:()=>t("nextMore"),children:e?a.jsx(I,{}):a.jsx(b,{})})},z=({className:c,onArrow:t})=>{const[e,o]=f.useState(!1);return a.jsx("li",{className:c,role:"presentation",onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},onClick:()=>t("prevMore"),children:e?a.jsx(A,{}):a.jsx(b,{})})},D=c=>{const{pageCount:t,currentPage:e,onChange:o,pagerClass:s}=c,[l,p]=f.useState(!1),[u,g]=f.useState(!1);f.useEffect(()=>{t>N?(e>N-2&&p(!0),e<t-2&&g(!0),e>=t-3&&e<=t&&g(!1),e>=1&&e<=4&&p(!1)):(p(!1),g(!1))},[e,t]);const j=(n,r)=>{r.preventDefault();let i=n;i<1&&(i=1),i>t&&(i=t),i!==e&&o(i)},C=f.useCallback(n=>{let r=e;n==="nextMore"&&(r=e+5),n==="prevMore"&&(r=e-5),o(r)},[e,o]),P=f.useMemo(()=>{const n=[];if(l&&!u){const r=t-(N-2);for(let i=r;i<t;i++)n.push(i)}else if(!l&&u)for(let r=2;r<N;r++)n.push(r);else if(l&&u){const r=Math.floor(N/2)-1,i=e>=t-2&&e<=t;for(let k=e-r;k<=e+(i?0:r);k++)n.push(k)}else for(let r=2;r<t;r++)n.push(r);return n.length>N?[]:n},[l,u,e,t]),x=n=>h(s.default,e===n?s.active:s.inactive);return a.jsxs("ul",{children:[t>0&&a.jsx("li",{className:x(1),role:"presentation",onClick:n=>j(1,n),children:"1"}),l&&a.jsx(z,{className:h(s.default,s.inactive),onArrow:n=>C(n)}),P.map((n,r)=>a.jsx("li",{className:x(n),role:"presentation",onClick:i=>j(n,i),children:n},r)),u&&a.jsx(T,{className:h(s.default,s.inactive),onArrow:n=>C(n)}),t>1&&a.jsx("li",{className:x(t),role:"presentation",onClick:n=>j(t,n),children:t})]})},R=c=>{const{currentPage:t,pagerClass:e,onPrev:o}=c,s=t<=1,l=u=>{s||o(u)},p=h(e.default,"pagination-pager-prev",s?e.disabled:e.inactive);return a.jsx("span",{className:p,role:"presentation",onClick:l,children:a.jsx(E,{})})},L=c=>{const{currentPage:t,pageCount:e,pagerClass:o,onNext:s}=c,l=t===e||e===0,p=g=>{g.preventDefault(),!l&&s(g)},u=h(o.default,"pagination-pager-next",l?o.disabled:o.inactive);return a.jsx("span",{className:u,role:"presentation",onClick:p,children:a.jsx(y,{})})},O=c=>{const{total:t}=c;return a.jsxs("div",{className:"pagination-total",children:["Total ",a.jsx("span",{children:t})," Items"]})},q=5,Q=c=>{const{className:t,currentPage:e=1,displayTotal:o=!1,onChange:s,pageSize:l=1,total:p=5}=c,[u]=H({prop:p,defaultProp:q,onChange:s}),[g,j]=f.useState(l),C=f.useMemo(()=>typeof u=="number"?Math.ceil(u/g):null,[u,g]),P=d=>{const m=parseInt(d,10),w=C;let v;return w?(m<1&&(v=1),m>w&&(v=w)):(isNaN(m)||m<1)&&(v=1),(v===void 0&&isNaN(m)||v===0)&&(v=1),v===void 0?m:v},[x,n]=f.useState(e?P(e):1);f.useEffect(()=>{l!==g&&j(l),e!==x&&n(e)},[l,e]);const r=d=>{n(P(d)),s==null||s(P(d))},i=()=>{const d=x-1;n(P(d)),s==null||s(P(d))},k=()=>{const d=x+1;n(P(d)),s==null||s(P(d))},M={default:"pagination-pager",inactive:"pagination-pager-inactive",active:"text-primary dark:bg-primary dark:text-neutral",disabled:"pagination-pager-disabled"},S=h("pagination",t);return a.jsxs("div",{className:S,children:[o&&a.jsx(O,{total:p}),a.jsx(R,{currentPage:x,pagerClass:M,onPrev:i}),a.jsx(D,{pageCount:C,currentPage:x,pagerClass:M,onChange:r}),a.jsx(L,{currentPage:x,pageCount:C,pagerClass:M,onNext:k})]})};Q.displayName="Pagination";export{Q as P};
